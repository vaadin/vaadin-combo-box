<!doctype html>
<html>

<head>
  <meta charset="utf-8">

  <script src="../../../wct-browser-legacy/browser.js"></script>
  <script src="../../../@webcomponents/webcomponentsjs/webcomponents-bundle.js"></script>
  <script type="module" src="../../../@polymer/test-fixture/test-fixture.js"></script>
  <script type="module" src="../../../@polymer/polymer/polymer-legacy.js"></script>
  <script src="./common.js"></script>
</head>

<body>

  <test-fixture id="combobox">
    <template>
      <vaadin-combo-box></vaadin-combo-box>
    </template>
  </test-fixture>

  <script type="module">
import '@polymer/test-fixture/test-fixture.js';
import '@polymer/polymer/polymer-legacy.js';
import { importHref as importHref$0 } from '@polymer/polymer/lib/utils/import-href.js';
describe('Late upgrade', () => {
  let combobox;

  if (!(window['Polymer'] && window['Polymer'].importHref)) {
    return; // TODO: With Polymer 3 we donâ€™t have the HTML to import
  }

  beforeEach(() => combobox = fixture('combobox'));

  it('should have preset value from property', done => {
    // Set the value before the element is upgraded.
    combobox.items = ['foo', 'bar'];
    combobox.value = 'bar';

    expect(combobox.is).to.be.undefined;

    importHref$0('../vaadin-combo-box.html', () => {
      expect(combobox.value).to.equal('bar');
      done();
    });
  });
});
</script>

</body>

</html>
