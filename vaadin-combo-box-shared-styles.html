<!--
@license
Copyright (c) 2017 Vaadin Ltd.
This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
-->

<link rel="import" href="../polymer/polymer-element.html">

<dom-module id="vaadin-combo-box-shared-styles">
  <template>
    <style>
      :host([opened]) {
        pointer-events: auto;
      }

      .rotate-on-open,
      :host ::slotted(.rotate-on-open) {
        transition: all 0.2s !important;
      }

      /*
       * Hacky selector to apply when using P2 Shady.
       * Invalid when using P2 Shadow so need to be kept in a separate block.
       */
      :host ::slotted(vaadin-text-input) .rotate-on-open {
        transition: all 0.2s !important;
      }

      :host([opened]) .rotate-on-open,
      :host([opened]) ::slotted(.rotate-on-open) {
        -webkit-transform: rotate(180deg);
        transform: rotate(180deg);
      }

      /* P2 Shady */
      :host([opened]) ::slotted(vaadin-text-input) .rotate-on-open {
        -webkit-transform: rotate(180deg);
        transform: rotate(180deg);
      }

      :host(:not([has-value])) ::slotted([slot="clear-button"]),
      :host([readonly]) ::slotted([slot="clear-button"]),
      :host([disabled]) ::slotted([slot="clear-button"]),
      :host([readonly]) ::slotted([slot="toggle-button"]),
      :host([disabled]) ::slotted([slot="toggle-button"]),
      :host(:not([has-value])) .clear-button,
      :host([readonly]) .clear-button,
      :host([disabled]) .clear-button,
      :host([readonly]) .toggle-button,
      :host([disabled]) .toggle-button {
        display: none;
      }

      /* P2 Shady */
      :host(:not([has-value])) ::slotted(vaadin-text-input) [slot="clear-button"],
      :host([readonly]) ::slotted(vaadin-text-input) [slot="clear-button"],
      :host([readonly]) ::slotted(vaadin-text-input) [slot="toggle-button"],
      :host([disabled]) ::slotted(vaadin-text-input) [slot="clear-button"],
      :host([disabled]) ::slotted(vaadin-text-input) [slot="toggle-button"] {
        display: none;
      }

    </style>
  </template>
</dom-module>
